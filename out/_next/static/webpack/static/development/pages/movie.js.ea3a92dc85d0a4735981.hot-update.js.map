{"version":3,"file":"static/webpack/static/development/pages/movie.js.ea3a92dc85d0a4735981.hot-update.js","sources":["webpack:///./pages/movie.js"],"sourcesContent":["import 'isomorphic-fetch'\nimport Link from 'next/link'\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\n// import PodcastList from '../components/PodcastList';\n// import PodcastListWithClick from '../components/PodcastListWithClick';\n// import Error from './_error'\n// import PodcastPlayer from '../components/PodcastPlayer'\n\nexport default class Movie extends React.Component {\n  \n  constructor(props) {\n    super(props)\n    this.state = { openPodcast: null }\n  }\n\n  static async getInitialProps({ query, res }){\n    try{\n\n      let idMovie = query.id\n      let reqMovie = await fetch(`https://api.audioboom.com/channels/${ idChannel }`)\n      \n      if(reqChannel.status >= 404) {\n        res.statusCode=reqChannel.status\n        return { channel:null, statusCode:404}\n\n      }\n      \n      // // let { body: { channel } } = await reqChannel.json()\n      let dataChannel = await reqChannel.json()\n      let channel = dataChannel.body.channel\n      \n      let dataAudios = await reqAudio.json()\n      let audioClips = dataAudios.body.audio_clips\n      \n      let dataSeries = await reqSeries.json()\n      let series = dataSeries.body.channels\n      \n      return { channel, audioClips, series, statusCode:200 }\n    } catch(e) {\n      res.statusCode=503\n\n      return { channel:null, audioClips:null, series:null, statusCode:503}\n    }\n      \n    }\n    \n  openPodcast = (event, podcast) => {\n    event.preventDefault()\n    this.setState({\n      openPodcast: podcast\n    })\n  }\n\n  closePodcast = (event) => {\n    event.preventDefault()\n    this.setState({\n      openPodcast: null\n    })\n  }\n    \n    render() {\n      const { channel, audioClips, series, statusCode } = this.props\n      const { openPodcast } = this.state\n      \n      if( statusCode !== 200){\n        return <Error statusCode={statusCode} />\n      }\n    return <Layout title={channel.title}>\n      <div className=\"banner\" style={{ backgroundImage: `url(${channel.urls.banner_image.original})` }} />\n\n      { openPodcast && \n        <PodcastPlayer clip={ openPodcast } onClose= { this.closePodcast } />\n      }\n\n      <h1>{ channel.title }</h1>\n\n      {/* { series.length > 0 &&\n        <div>\n          <h2>Series</h2>\n          <ChannelGrid channels={ series }/>\n        </div>\n      } */}\n\n      <h2>Ultimos Podcasts</h2>\n        {/* <PodcastList audioClips={audioClips} /> */}\n        <PodcastListWithClick podcasts={audioClips}  onClickPodcast={this.openPodcast}/>\n      \n\n      <style jsx>{`\n\n        .banner {\n          width: 100%;\n          padding-bottom: 25%;\n          background-position: 50% 50%;\n          background-size: cover;\n          background-color: #aaa;\n        }\n\n        \n        h1 {\n          font-weight: 600;\n          padding: 15px;\n        }\n        h2 {\n          padding: 5px;\n          font-size: 0.9em;\n          font-weight: 600;\n          margin: 0;\n          text-align: center;\n        }\n\n        \n      `}</style>\n      \n      </Layout>\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAqCA;AACA;AAAA;AACA;AADA;AAGA;AACA;AA1CA;AA4CA;AACA;AAAA;AACA;AADA;AAGA;AACA;AA/CA;AAAA;AAAA;AAFA;AAGA;AACA;;;AA8CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlBA;AAAA;AAAA;AAAA;AAgDA;;;;;;;;;;;;AApGA;;AAGA;;AACA;AACA;;AADA;AACA;AACA;;;;;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AAIA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAlCA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}